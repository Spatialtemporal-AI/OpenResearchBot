# ğŸˆ OpenPI Baseline è‡ªåŠ¨å®‰è£…æŒ‡å—

æœ¬æ–‡ä»¶è¯¦ç»†è¯´æ˜å¦‚ä½•åˆ©ç”¨ **Nanobot Agent** å®ç° [Physical Intelligence - OpenPI](https://github.com/Physical-Intelligence/openpi) é¡¹ç›®çš„ä¸€é”®è‡ªåŠ¨åŒ–éƒ¨ç½²ã€‚

## ğŸš€ æ ¸å¿ƒæŒ‡ä»¤

åœ¨å…·å¤‡ Nanobot ç¯å¢ƒçš„ç»ˆç«¯ä¸­ï¼Œè¾“å…¥ä»¥ä¸‹å•æ¡æŒ‡ä»¤å³å¯å¯åŠ¨å…¨è‡ªåŠ¨å®‰è£…ä¸éªŒè¯æµç¨‹ï¼š

```bash
nanobot agent -m "å®‰è£…å¹¶éªŒè¯è¿™ä¸ªé¡¹ç›®ï¼šhttps://github.com/Physical-Intelligence/openpi"
```

---

## ğŸ› ï¸ è‡ªåŠ¨åŒ–æµæ°´çº¿ (Pipeline)

Agent å°†ä¸¥æ ¼æŒ‰ç…§å†…ç½®çš„ `openpi-runner` Skill æ‰§è¡Œä»¥ä¸‹"è‡ªæ„ˆå¼"å®‰è£…æ­¥éª¤ï¼š

### 1. ä»£ç è·å–ä¸ä¾èµ–åŒæ­¥

* **é€’å½’å…‹éš†**ï¼šè‡ªåŠ¨æ‰§è¡Œ `git clone --recurse-submodules`ï¼Œç¡®ä¿ `lerobot` ç­‰æ ¸å¿ƒä¾èµ–é¡¹å®Œæ•´ã€‚

* **uv æé€Ÿæ„å»º**ï¼šå¼ºåˆ¶ä½¿ç”¨ `uv` ç®¡ç†ä¾èµ–ï¼Œè‡ªåŠ¨åˆ›å»º `.venv` å¹¶å®Œæˆ `pip install -e .`ã€‚

### 2. é™é»˜è‡ªæ„ˆä¿®å¤ (Self-Healing)

* **åˆ†è¯å™¨é•œåƒè¡¥å…¨**ï¼šè‡ªåŠ¨è¯†åˆ«å¹¶ç»•è¿‡ GCS 401 æƒé™é”™è¯¯ï¼Œä» Hugging Face é•œåƒä¸‹è½½ **4.1MB** çš„ `paligemma_tokenizer.model`ã€‚

* **Transformers è¡¥ä¸**ï¼šè‡ªåŠ¨å®šä½å¹¶æ‰§è¡Œ `scripts/apply_patches.sh`ï¼Œç¡®ä¿ VLA æ¨¡å‹æ¶æ„åœ¨å½“å‰è™šæ‹Ÿç¯å¢ƒä¸‹æ­£å¸¸è¿è¡Œã€‚

### 3. ç»“æœå¯¼å‘éªŒè¯

* **è‡ªåŠ¨ç”Ÿæˆè„šæœ¬**ï¼šè‹¥ç¼ºå¤±éªŒè¯è„šæœ¬ï¼ŒAgent ä¼šè‡ªåŠ¨ `write_file` åˆ›å»º `smoke_test.py`ã€‚

* **DROID ç‰©ç†éªŒè¯**ï¼šé€šè¿‡æ¨¡æ‹Ÿ **8 ç»´ Observation**ï¼ˆ7 è½´å…³èŠ‚ + 1 å¤¹çˆªï¼‰è¿›è¡Œæ¨ç†ï¼Œåªæœ‰äº§å‡ºå…·ä½“çš„ Action é‡‡æ ·æ•°å­—æ‰åˆ¤å®šä¸º `SUCCESS`ã€‚

---

## ğŸ“Š é¢„æœŸè¾“å‡º (SUCCESS Criteria)

ä»»åŠ¡æˆåŠŸå®Œæˆåï¼Œæ‚¨å°†æ”¶åˆ°å¦‚ä¸‹åé¦ˆï¼š

> ğŸˆ **OpenPI è‡ªåŠ¨å®‰è£…æˆåŠŸ**
> 
> * **ç¯å¢ƒçŠ¶æ€**: `uv` åŒæ­¥å®Œæˆï¼Œè¡¥ä¸å·²åº”ç”¨ã€‚
> * **èµ„æºä¿®å¤**: åˆ†è¯å™¨é•œåƒæ›¿æ¢æˆåŠŸ (4.1MB)ã€‚
> * **éªŒè¯çŠ¶æ€**: **SUCCESS**ã€‚
> * **Action Sample**: `[-0.3656, 0.1250, -0.2533, ...]`

---

## âš ï¸ å¼€å‘è€…å¿…è¯»

* **æƒé™æˆæƒ**ï¼šè‹¥å®‰è£…ç›®å½•å·²å­˜åœ¨ä¸”éœ€è¦è¦†ç›–ï¼Œè¯·ä½¿ç”¨æŒ‡ä»¤ï¼š`nanobot agent -m "æˆæƒæ‰§è¡Œæ¸…ç†å¹¶é‡æ–°å®‰è£… https://github.com/Physical-Intelligence/openpi"`ã€‚

* **ç¡¬ä»¶è¦æ±‚**ï¼š
  * **æ˜¾å­˜**: æ¨ç†å»ºè®® > 12GBã€‚
  * **å­˜å‚¨**: é¢„ç•™çº¦ 15GB ç©ºé—´ï¼ˆæ¨¡å‹æƒé‡çº¦ 11.6GBï¼‰ã€‚

* **è®°å½•è¿½è¸ª**ï¼šå®‰è£…è¿‡ç¨‹ä¸­çš„æ‰€æœ‰å…³é”®èŠ‚ç‚¹å°†è®°å½•åœ¨å·¥ä½œç›®å½•çš„ `baseline_run_log.md` ä¸­ã€‚

---

## ğŸ“‹ å¸¸è§é—®é¢˜å¤„ç†

| ç°è±¡ | åŸå›  | Agent å¯¹ç­– |
| --- | --- | --- |
| **GCS 401 Error** | å®˜æ–¹åˆ†è¯å™¨ä¸‹è½½å—é™ | **è‡ªåŠ¨åˆ‡æ¢**è‡³ Hugging Face é•œåƒä¸‹è½½ |
| **Import Error** | è¡¥ä¸æœªç”Ÿæ•ˆ | **è‡ªåŠ¨é‡è·‘** `apply_patches.sh` |
| **Joint Pos Error** | è¾“å…¥ç»´åº¦ä¸ç¬¦ (DROID) | **è‡ªåŠ¨è¡¥å…¨**ä¸º 8 ç»´å¼ é‡ (7+1) |

---

## ğŸ”§ æ‰‹åŠ¨éªŒè¯ï¼ˆå¯é€‰ï¼‰

å¦‚æœéœ€è¦åœ¨ Agent å®‰è£…å®Œæˆåæ‰‹åŠ¨éªŒè¯ï¼Œå¯ä»¥è¿è¡Œï¼š

```bash
cd /path/to/openpi
./.venv/bin/python smoke_test.py
```

é¢„æœŸè¾“å‡ºåº”åŒ…å«ï¼š
- âœ… SUCCESS
- Action Sample (first 3 dims): `[x.xxx, y.yyy, z.zzz]`
- Action shape: `(13, 8)`
- Action range: `[min, max]`

---

## ğŸ“š ç›¸å…³èµ„æº

* **é¡¹ç›®ä¸»é¡µ**: https://github.com/Physical-Intelligence/openpi
* **Nanobot Skill**: `nanobot/skills/openpi_runner/SKILL.md`
* **å®‰è£…æ—¥å¿—**: `baseline_run_log.md`

---

**æœ€åæ›´æ–°**: 2025-01-XX

